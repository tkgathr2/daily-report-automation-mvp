# バグ証拠収集手順（Claude For Chrome向け）

**バージョン**: V1.0  
**作成日**: 2026-01-31  
**実行者**: Claude For Chrome + 高木さん（スクショ撮影）

---

## ⚠️ シークレット事前アラート

この工程ではシークレット情報が必要になる可能性があります。

**対象シークレット**:
- Google Apps Script WEBアプリURL（/exec で終わるURL）

**運用**:
- アプリURLへのアクセスは行いますが、URLの読み上げ・コピー・チャットへの記載は行いません
- SEC-01適用：シークレット値をチャット・md・ログに書きません

---

## 前提条件

1. **Googleアカウントでログイン済み**のブラウザを使用
2. **簡単日報くんWEBアプリ**にアクセスできる状態
3. **Slack連携済み**（B02のテストに必要）

---

## 証拠収集手順

### ■ B01: 使い方ガイドモーダル

#### 目的
モーダルが「閉じない」「反応しない」「表示されない」のどれに該当するか確認

#### 手順

```
【Claude For Chromeへの指示】

1. 簡単日報くんWEBアプリにアクセスしてください
   ※ URLは高木さんが入力します

2. ページが完全に読み込まれるまで待機してください

3. 画面右上の「使い方」ボタンを見つけてください
   - ボタンは青色（#3498db）で「使い方」と表示されています

4. 【SEC-01停止】ここで操作を停止してください。
   高木さんに以下を依頼します：
   
   ----------------------------------------
   【高木さんへ：スクショ撮影依頼】
   
   (1) 現在の画面をスクショしてください（モーダル表示前）
       ファイル名：B01_before.png
   
   (2) 「使い方」ボタンをクリックしてください
   
   (3) クリック後の画面をスクショしてください
       ファイル名：B01_after_click.png
   
   (4) モーダルが表示された場合：
       - ×ボタンをクリックしてください
       - 閉じたかどうかをスクショしてください
         ファイル名：B01_close_x.png
       
       - 再度「使い方」ボタンをクリックしてください
       - OKボタンをクリックしてください
       - 閉じたかどうかをスクショしてください
         ファイル名：B01_close_ok.png
       
       - 再度「使い方」ボタンをクリックしてください
       - モーダル外の黒背景部分をクリックしてください
       - 閉じたかどうかをスクショしてください
         ファイル名：B01_close_bg.png
   
   (5) F12キーを押して開発者ツールを開いてください
       Consoleタブを選択し、エラー（赤文字）があればスクショしてください
       ファイル名：B01_console.png
   
   撮影完了したら「進めて」と入力してください。
   ----------------------------------------
```

#### 期待結果
- 「使い方」ボタンクリック → モーダル表示
- ×ボタン、OKボタン、背景クリック → モーダル閉じる

---

### ■ B02: Slack履歴 ON/OFF

#### 目的
Slackチェックボックスが存在するか、履歴表示が切り替わるか確認

#### 手順

```
【Claude For Chromeへの指示】

1. 簡単日報くんWEBアプリにアクセスしてください
   ※ すでに開いている場合はそのまま続行

2. 「取得ツール設定」エリアを見つけてください
   - 「Gmail」「Notion」のチェックボックスがあるはずです

3. 【SEC-01停止】ここで操作を停止してください。
   高木さんに以下を依頼します：
   
   ----------------------------------------
   【高木さんへ：スクショ撮影依頼】
   
   (1) 「取得ツール設定」エリアをスクショしてください
       ファイル名：B02_settings_area.png
       
       確認ポイント：
       - 「Slack」のチェックボックスが存在するか？
       - 存在する場合、チェックは入っているか？
   
   (2) 「予定を取得」ボタンをクリックしてください
   
   (3) 取得完了後、「今日やったこと」エリアをスクショしてください
       ファイル名：B02_history_current.png
       
       確認ポイント：
       - [Slack]と表示された履歴があるか？
   
   (4) もし「Slack」チェックボックスが存在する場合：
       - チェックを外してください
       - 「設定を保存」をクリックしてください
       - 「予定を取得」を再度クリックしてください
       - 「今日やったこと」エリアをスクショしてください
         ファイル名：B02_history_slack_off.png
   
   撮影完了したら「進めて」と入力してください。
   ----------------------------------------
```

#### 期待結果
- Slackチェックボックスが存在する → ON/OFF切替で履歴表示が変わる
- Slackチェックボックスが存在しない → B02の原因確定（UIが存在しない）

---

### ■ B03: /dev 白画面、alertエラー

#### 目的
どのURLで白画面が発生するか、alertの内容を確認

#### 手順

```
【Claude For Chromeへの指示】

※ このバグは該当コードが見つかっていないため、まず高木さんに確認が必要です。

【SEC-01停止】操作を開始する前に停止してください。
高木さんに以下を確認します：

----------------------------------------
【高木さんへ：確認依頼】

B03「/dev白画面、alertエラー」について：

Q1. どのURLにアクセスしたときに発生しましたか？
    例：
    - https://script.google.com/.../exec/dev
    - https://script.google.com/.../dev
    - その他のURL

Q2. alertはどのような内容でしたか？
    （覚えている範囲で結構です）

Q3. 最後にこのバグを確認したのはいつですか？

Q4. 現在も再現できますか？

回答後、「進めて」と入力してください。
----------------------------------------

【高木さんの回答後】

回答に基づいて追加の証拠収集を行います。
```

---

## 証拠ファイル一覧（収集後）

| ファイル名 | 対象バグ | 内容 |
|-----------|---------|------|
| B01_before.png | B01 | モーダル表示前 |
| B01_after_click.png | B01 | 「使い方」クリック後 |
| B01_close_x.png | B01 | ×ボタンクリック後 |
| B01_close_ok.png | B01 | OKボタンクリック後 |
| B01_close_bg.png | B01 | 背景クリック後 |
| B01_console.png | B01 | 開発者ツールConsole |
| B02_settings_area.png | B02 | 取得ツール設定エリア |
| B02_history_current.png | B02 | 現在の履歴表示 |
| B02_history_slack_off.png | B02 | Slack OFF時の履歴（該当する場合） |

---

## 完了後のアクション

証拠収集完了後、以下をCursorに報告してください：

```
【証拠収集完了報告】

B01:
- モーダル表示：正常 / 異常（詳細：　）
- ×ボタン：閉じる / 閉じない
- OKボタン：閉じる / 閉じない
- 背景クリック：閉じる / 閉じない
- Consoleエラー：あり / なし（内容：　）

B02:
- Slackチェックボックス：存在する / 存在しない
- [Slack]履歴：表示される / 表示されない

B03:
- Q1回答：
- Q2回答：
- Q3回答：
- Q4回答：

スクショ保存場所：
```

---

## 更新履歴

| バージョン | 日付 | 内容 |
|-----------|------|------|
| V1.0 | 2026-01-31 | 初版作成 |
