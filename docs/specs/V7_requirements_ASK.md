# V7 要件定義書（Ask）

## ドキュメント情報

| 項目 | 内容 |
|------|------|
| 文書名 | 簡単日報くん V7 要件定義書 |
| バージョン | 3.0（最終100点版） |
| 作成日 | 2026-01-24 |
| フェーズ | Ask（要件定義）完了 |
| 前提バージョン | V6（AI自動処理） |

---

## 1. 目的・背景

### 1.1 目的

ユーザーごとに**ツールの表示ON/OFF設定**と**よく使う順の自動表示**を実装し、
個人最適化された日報作成体験を提供する。

### 1.2 背景

- ユーザーによって使うツールが異なる
- 使わないツールの履歴は不要
- よく使うツールを上に表示すれば便利

---

## 2. 対象機能一覧

| No | 機能ID | 機能名 | 概要 | 難易度 |
|----|--------|--------|------|:------:|
| 1 | E1 | ツールごとのON/OFF設定 | 人ごとに「使う/使わない」を選べる | 中 |
| 2 | E2 | よく使う順の自動表示 | 使うほど上に表示（自動学習） | 中 |

---

## 3. 機能詳細

### 3.1 ツールごとのON/OFF設定（E1）

#### 概要
V3〜V5で追加した各ツールについて、ユーザーごとにON/OFFを設定できる。

#### 対象ツール
- カレンダー
- Slack
- Gmail
- Notion
- Google Docs
- Google Drive
- Dropbox
- Zoom
- Google Meet
- 社内ツール

#### 仕様
- デフォルトは全てON
- OFFにしたツールは取得しない（APIも呼ばない）
- 設定はUser Propertiesに保存

---

### 3.2 よく使う順の自動表示（E2）

#### 概要
ユーザーの利用頻度を記録し、よく使うツールを上に表示する。

#### 学習方法
- 日報送信時に、各ツールの履歴件数を記録
- 過去30日間の履歴件数を合計
- 合計が多い順にツールを並べ替え

#### 表示順
1. よく使う順（学習結果）
2. 同率の場合はデフォルト順

---

## 4. 受け入れ条件

| No | 受け入れ条件 |
|----|--------------|
| 1 | 各ツールのON/OFFが設定できる |
| 2 | OFFにしたツールの履歴が取得されない |
| 3 | よく使うツールが上に表示される |
| 4 | 設定がユーザーごとに保存される |
| 5 | V6機能が正常に動作する |

---

## 5. NG例

| No | NG例 | 理由 |
|----|------|------|
| 1 | 全ツールOFFで何も表示されない | カレンダーは最低限ON |
| 2 | 設定が他ユーザーに影響する | ユーザーごとに独立 |
| 3 | V6機能が動かなくなる | 後方互換性 |

---

## 6. 例外ケース

| No | 例外ケース | 対応方針 |
|----|------------|----------|
| 1 | 学習データなし | デフォルト順で表示 |
| 2 | 全ツールOFF | カレンダーのみ強制ON |

---

## 7. 今回やらないこと（Won't）

| No | やらないこと | 理由 |
|----|--------------|------|
| 1 | 手動での順序変更 | 複雑化を避ける |
| 2 | ツール別の詳細設定 | 複雑化を避ける |

---

## 改定履歴

| バージョン | 日付 | 内容 |
|------------|------|------|
| 3.0 | 2026-01-24 | 最終100点版 |
