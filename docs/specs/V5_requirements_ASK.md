# V5 要件定義書（Ask）

## ドキュメント情報

| 項目 | 内容 |
|------|------|
| 文書名 | 簡単日報くん V5 要件定義書 |
| バージョン | 3.0（最終100点版） |
| 作成日 | 2026-01-24 |
| フェーズ | Ask（要件定義）完了 |
| 前提バージョン | V4（Docs/Drive/Dropbox連携） |

---

## 1. 目的・背景

### 1.1 目的

V4に続き、**Zoom・Google Meet・社内ツール**の利用履歴を自動取得して
「今日やったこと」に追加し、会議参加の記録も自動化する。

### 1.2 背景

- 会議参加は業務の大きな部分を占める
- 「何の会議に参加したか」を日報に書き忘れやすい
- 自動取得すれば会議の記録も抜け漏れなく残せる

---

## 2. 対象機能一覧

| No | 機能ID | 機能名 | 概要 | 難易度 |
|----|--------|--------|------|:------:|
| 1 | A7 | Zoom履歴の自動取得 | 会議参加を自動で集める | 中 |
| 2 | A8 | Google Meet履歴の自動取得 | 会議参加を自動で集める | 中 |
| 3 | A9 | 社内ツール連携 | 社内独自ツールと連携 | 高 |

---

## 3. 機能詳細

### 3.1 Zoom履歴の自動取得（A7）

#### 取得対象
- 自分が当日参加したZoom会議
- 自分が当日主催したZoom会議

#### 表示形式
```
⚫︎ [Zoom] 参加: 「週次定例会議」(10:00-11:00)
⚫︎ [Zoom] 主催: 「顧客打ち合わせ」(14:00-15:00)
```

#### 認証方式
- Zoom API（OAuth 2.0 または JWT）
- Server-to-Server OAuth推奨

---

### 3.2 Google Meet履歴の自動取得（A8）

#### 取得対象
- 自分が当日参加したGoogle Meet会議
- Googleカレンダーと連動した会議

#### 表示形式
```
⚫︎ [Meet] 参加: 「プロジェクトMTG」(13:00-14:00)
```

#### 認証方式
- GASのCalendar API経由（会議情報付きイベント）
- 追加認証不要（カレンダー予定に含まれる）

---

### 3.3 社内ツール連携（A9）

#### 概要
社内独自ツール（勤怠システム、タスク管理等）との連携。
具体的な連携先は導入先の環境に依存。

#### 連携方式
- Webhook受信
- REST API呼び出し
- 設定画面でエンドポイントを指定

#### 表示形式
```
⚫︎ [社内] タスク完了: 「A社提案書作成」
⚫︎ [社内] 出勤打刻: 09:00
```

---

## 4. 受け入れ条件

| No | 受け入れ条件 |
|----|--------------|
| 1 | Zoom履歴が「今日やったこと」に表示される |
| 2 | Google Meet履歴が「今日やったこと」に表示される |
| 3 | 社内ツール連携が設定できる（エンドポイント指定） |
| 4 | 各ツールのON/OFFが設定できる |
| 5 | V4機能が正常に動作する |

---

## 5. NG例

| No | NG例 | 理由 |
|----|------|------|
| 1 | 他人の会議情報が取得される | 対象外 |
| 2 | 認証エラーでアプリ全体が動かなくなる | 影響範囲が大きい |
| 3 | V4機能が動かなくなる | 後方互換性 |

---

## 6. 例外ケース

| No | 例外ケース | 対応方針 |
|----|------------|----------|
| 1 | Zoom Token未設定 | Zoom履歴のみスキップ |
| 2 | 社内ツールエンドポイント未設定 | 社内ツール履歴のみスキップ |
| 3 | API制限 | 該当ツール履歴のみスキップ |

---

## 7. 今回やらないこと（Won't）

| No | やらないこと | 理由 |
|----|--------------|------|
| 1 | AIによる重要度並べ替え | V6で対応 |
| 2 | 個人最適化 | V7で対応 |

---

## 改定履歴

| バージョン | 日付 | 内容 |
|------------|------|------|
| 3.0 | 2026-01-24 | 最終100点版 |
