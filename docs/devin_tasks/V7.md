# Devin タスク: V7 実装

## これは Devin への指示です。

---

## タスク概要

簡単日報くん V7（個人最適化）を実装する。

## 前提条件

- V6が完成・稼働していること

## 参照ドキュメント

- 要件定義書: `docs/specs/V7_requirements_ASK.md`
- 仕様書: `docs/specs/V7_plan.md`

---

## 実装手順

### Step 1: Code.gs に定数追加

```javascript
const USER_PROPERTY_TOOL_USAGE = 'TOOL_USAGE_DATA';
const LEARNING_PERIOD_DAYS = 30;
```

### Step 2: Code.gs に関数追加

1. `recordToolUsage(usageCount)` - 利用頻度記録
2. `getToolOrder()` - ツール順序取得
3. `getDefaultToolOrder()` - デフォルト順序
4. `getAllToolHistoryV7(dateString, useAI)` - V7統合取得
5. `sendToSlackV7(reportData)` - V7 Slack送信

### Step 3: Index.html にUI追加

- ツール順序表示

### Step 4: Index.html のJavaScript追加

- `renderToolOrder(order)` - 順序表示
- `countToolUsage()` - 利用件数カウント

---

## 完了条件

1. 各ツールのON/OFFが設定できる
2. OFFにしたツールの履歴が取得されない
3. よく使うツールが上に表示される
4. 設定がユーザーごとに保存される
5. V6機能が正常動作する

---

## 注意事項

- 学習データは過去30日間を参照
- カレンダーは最低限ONを維持
